<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Blox Fruit Value</title>

<style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Poppins', sans-serif;
}

body {
    background: #000;
    color: white;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
}

.title {
    margin-top: 30px;
    font-size: 48px;
    font-weight: 800;
    background: linear-gradient(90deg, #8b5cf6, #a78bfa);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

.trade-zone {
    margin-top: 40px;
    background: #1a1a1a;
    padding: 30px;
    border-radius: 20px;
    display: flex;
    gap: 60px;
}

.trade-column {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.trade-column h2 {
    text-align: center;
    font-size: 20px;
    color: #aaa;
}

.grid {
    display: grid;
    grid-template-columns: repeat(2, 90px);
    grid-template-rows: repeat(2, 90px);
    gap: 15px;
}

.slot {
    width: 90px;
    height: 90px;
    background: #0f0f0f;
    border-radius: 15px;
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    text-align: center;
    font-size: 12px;
    overflow: hidden;
}

.slot.item {
    cursor: pointer;
    background-repeat: no-repeat;
    background-position: center;
    background-size: 70%;
}

.value-box {
    background: rgba(0,0,0,0.65);
    padding: 4px 0;
}

.value-text {
    font-size: 11px;
    color: #ccc;
}

.demand-text {
    font-size: 9px;
    color: #666;
}

.add-btn {
    background: linear-gradient(145deg, #6d28d9, #8b5cf6);
    cursor: pointer;
    justify-content: center;
    display: flex;
    align-items: center;
}

.add-btn span {
    font-size: 36px;
    font-weight: bold;
    color: white;
}

.values {
    margin-top: 30px;
    width: 100%;
    max-width: 400px;
    display: flex;
    justify-content: space-around;
    align-items: center;
    font-size: 28px;
    color: #8b5cf6;
}

.vs {
    font-size: 24px;
    opacity: 0.6;
}

.value-block {
    text-align: center;
    flex: 1;
}

.value-block h3 {
    font-size: 18px;
    color: #aaa;
}

.value-block div {
    font-size: 16px;
    margin-top: 4px;
}

.modal {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.85);
    display: none;
    justify-content: center;
    align-items: center;
}

.modal-content {
    background: #0f0f0f;
    width: 600px;
    max-height: 70vh;
    border-radius: 18px;
    padding: 20px;
    display: flex;
    flex-direction: column;
}

.modal-content h3 {
    margin-bottom: 10px;
    color: #aaa;
}

.search-box {
    margin-bottom: 15px;
}

.search-box input {
    width: 100%;
    padding: 8px 12px;
    border-radius: 12px;
    border: none;
    outline: none;
    font-size: 14px;
    background: #1a1a1a;
    color: white;
}

.items {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 12px;
    overflow-y: auto;
    padding-right: 5px;
}

.items::-webkit-scrollbar {
    width: 8px;
}

.items::-webkit-scrollbar-track {
    background: #111;
    border-radius: 8px;
}

.items::-webkit-scrollbar-thumb {
    background: #8b5cf6;
    border-radius: 8px;
}

.item {
    background: #141414;
    border-radius: 12px;
    padding: 10px;
    text-align: center;
    cursor: pointer;
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    height: 90px;
    transition: transform 0.2s;
    position: relative;
}

.item img {
    width: 70%;
    margin: 0 auto;
}

.item:hover {
    transform: scale(1.05);
    box-shadow: 0 0 10px rgba(139,92,246,0.7);
}

.rarity-label {
    position: absolute;
    top: 5px;
    left: 5px;
    font-size: 10px;
    font-weight: bold;
    padding: 2px 6px;
    border-radius: 8px;
    color: white;
}

/* Rarity colors */
.mythic { background: #ff4d4d; }
.legendary { background: #ffd700; }
.uncommon { background: #4db8ff; }

</style>
</head>

<body>

<div class="title">BLOX FRUIT VALUE</div>

<div class="trade-zone">
    <div class="trade-column">
        <h2>I Have</h2>
        <div class="grid" data-side="have"></div>
    </div>

    <div class="trade-column">
        <h2>I Want</h2>
        <div class="grid" data-side="want"></div>
    </div>
</div>

<div class="values">
    <div class="value-block">
        <h3>YOUR OFFER</h3>
        <div class="value-number" id="offer-value">0</div>
        <div>Demand: 0/10</div>
    </div>
    <div class="vs">VS</div>
    <div class="value-block">
        <h3>YOU WANT</h3>
        <div class="value-number" id="want-value">0</div>
        <div>Demand: 0/10</div>
    </div>
</div>

<div class="modal" id="modal">
    <div class="modal-content">
        <h3>Available Items</h3>
        <div class="search-box">
            <input type="text" id="search" placeholder="Search a fruit..." oninput="filterItems()">
        </div>
        <div class="items" id="items-container"></div>
    </div>
</div>

<script>
let currentSide = null;
const slots = { have: [], want: [] };

const fruits = [
    {name:"Gravity",rarity:"mythic",img:"https://static.wikia.nocookie.net/roblox-blox-piece/images/4/41/Gravity_Fruit.png"},
    {name:"Mammoth",rarity:"mythic",img:"https://static.wikia.nocookie.net/roblox-blox-piece/images/4/42/Mammoth_Fruit.png"},
    {name:"Dragon",rarity:"mythic",img:"https://static.wikia.nocookie.net/roblox-blox-piece/images/4/40/Dragon_%28West%29_Fruit.png"},
    {name:"Leopard",rarity:"mythic",img:"https://static.wikia.nocookie.net/roblox-blox-piece/images/2/2e/Leopard_Fruit.png"},
    {name:"Kitsune",rarity:"mythic",img:"https://static.wikia.nocookie.net/roblox-blox-piece/images/3/3a/Kitsune_Fruit.png"},
    {name:"Control",rarity:"mythic",img:"https://static.wikia.nocookie.net/roblox-blox-piece/images/1/1a/Control_Fruit.png"},
    {name:"Quake",rarity:"legendary",img:"https://static.wikia.nocookie.net/roblox-blox-piece/images/6/6d/Quake_Fruit.png"},
    {name:"Buddha",rarity:"legendary",img:"https://static.wikia.nocookie.net/roblox-blox-piece/images/4/44/Buddha_Fruit.png"}
];

function initGrid(side) {
    const grid = document.querySelector(`.grid[data-side="${side}"]`);
    grid.innerHTML = "";
    slots[side] = [];

    for(let i=0;i<4;i++){
        const slot=document.createElement("div");
        slot.className="slot";
        slots[side].push(slot);
        grid.appendChild(slot);
    }
    updatePlus(side);
}

function updatePlus(side){
    const empty = slots[side].find(s=>s.innerHTML==="");
    if(!empty) return;
    empty.className="slot add-btn";
    empty.innerHTML="<span>+</span>";
    empty.onclick=()=>openModal(side);
}

function openModal(side){
    currentSide=side;
    document.getElementById("modal").style.display="flex";
    renderItems(fruits);
}

function renderItems(list){
    const container=document.getElementById("items-container");
    container.innerHTML="";
    list.forEach(f=>{
        const div=document.createElement("div");
        div.className="item";
        div.innerHTML=`<span class="rarity-label ${f.rarity}">${f.rarity.toUpperCase()}</span><img src="${f.img}" alt="${f.name}">`;
        div.onclick=()=>selectItem(f);
        container.appendChild(div);
    });
}

function filterItems(){
    const val=document.getElementById("search").value.toLowerCase();
    const filtered=fruits.filter(f=>f.name.toLowerCase().includes(val));
    renderItems(filtered);
}

function selectItem(fruit){
    const side=currentSide;
    const slot=slots[side].find(s=>s.classList.contains("add-btn"));
    if(!slot) return;

    slot.className="slot item";
    slot.style.backgroundImage=`url('${fruit.img}')`;
    slot.style.backgroundSize="70%";
    slot.style.backgroundPosition="center";
    slot.innerHTML+=`
        <div class="value-box">
            <div class="value-text">Value: ???</div>
            <div class="demand-text">Demand: ?/?</div>
        </div>
    `;
    const index=slots[side].indexOf(slot);
    slot.onclick=()=>removeItem(side,index);

    document.getElementById("modal").style.display="none";
    updatePlus(side);
}

function removeItem(side,index){
    const items=slots[side].filter((s,i)=>s.classList.contains("item")&&i!==index)
        .map(s=>({html:s.innerHTML,bg:s.style.backgroundImage}));
    slots[side].forEach(s=>{
        s.className="slot";
        s.innerHTML="";
        s.style.backgroundImage="";
        s.onclick=null;
    });
    items.forEach((item,i)=>{
        slots[side][i].className="slot item";
        slots[side][i].innerHTML=item.html;
        slots[side][i].style.backgroundImage=item.bg;
        slots[side][i].onclick=()=>removeItem(side,i);
    });
    updatePlus(side);
}

initGrid("have");
initGrid("want");
</script>

</body>
</html>
