<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Blox Fruit Value</title>

<style>
* { margin:0; padding:0; box-sizing:border-box; font-family:'Poppins', sans-serif; }
body { background:#000; color:white; min-height:100vh; display:flex; flex-direction:column; align-items:center; }

.title { margin-top:30px; font-size:48px; font-weight:800; background:linear-gradient(90deg,#8b5cf6,#a78bfa); -webkit-background-clip:text; -webkit-text-fill-color:transparent; }

.trade-zone { margin-top:40px; background:#1a1a1a; padding:30px; border-radius:20px; display:flex; gap:60px; }
.trade-column { display:flex; flex-direction:column; gap:15px; }
.trade-column h2 { text-align:center; font-size:20px; color:#aaa; }
.grid { display:grid; grid-template-columns:repeat(2,90px); grid-template-rows:repeat(2,90px); gap:15px; }
.slot { width:90px; height:90px; background:#0f0f0f; border-radius:15px; display:flex; flex-direction:column; justify-content:flex-end; text-align:center; font-size:12px; overflow:hidden; }
.slot.item { cursor:pointer; background-repeat:no-repeat; background-position:center; background-size:70%; }
.slot.add-btn { background:#141414; display:flex; justify-content:center; align-items:center; font-size:36px; font-weight:bold; color:#fff; cursor:pointer; transition:all 0.2s ease; border-radius:12px; }
.slot.add-btn:hover { background:#6d28d9; box-shadow:0 0 15px #8b5cf6; transform:scale(1.08); }
.value-box { background: rgba(0,0,0,0.65); padding: 4px 0; }
.value-text { font-size:11px; color:#ccc; }
.demand-text { font-size:9px; color:#666; }

.values { margin-top:40px; width:90%; max-width:600px; display:flex; justify-content:space-between; gap:20px; }
.value-block { flex:1; background:linear-gradient(145deg,#1a1a1a,#111); border-radius:18px; padding:20px; text-align:center; box-shadow:0 0 20px rgba(139,92,246,0.5); transition:transform 0.2s ease; }
.value-block:hover { transform:scale(1.05); box-shadow:0 0 30px rgba(139,92,246,0.8); }
.value-block h3 { font-size:18px; margin-bottom:10px; background:linear-gradient(90deg,#8b5cf6,#a78bfa); -webkit-background-clip:text; -webkit-text-fill-color:transparent; font-weight:800; }
.value-number { font-size:36px; font-weight:700; color:#8b5cf6; }
.demand { font-size:14px; color:#ccc; margin-top:4px; }
.vs { font-size:24px; opacity:0.6; align-self:center; }

.modal { position:fixed; inset:0; background:rgba(0,0,0,0.85); display:none; justify-content:center; align-items:center; }
.modal-content { background:#0f0f0f; width:520px; border-radius:18px; padding:20px; display:flex; flex-direction:column; }
.modal-content h3 { margin-bottom:10px; }

#search { margin-bottom:10px; padding:6px 10px; border-radius:8px; border:none; outline:none; font-size:14px; }

.items { display:grid; grid-template-columns:repeat(4,1fr); gap:14px; max-height:400px; overflow-y:auto; }

.item { border-radius:12px; padding:10px; text-align:center; cursor:pointer; transition:all 0.2s; font-weight:600; }
.item:hover { background:#6d28d9; box-shadow:0 0 15px #8b5cf6; }

.mythic { color:red; }
.legendary { color:gold; }
.uncommon { color:#3ab7ff; }
</style>
</head>
<body>

<div class="title">BLOX FRUIT VALUE</div>

<div class="trade-zone">
    <div class="trade-column">
        <h2>I Have</h2>
        <div class="grid" data-side="have"></div>
    </div>

    <div class="trade-column">
        <h2>I Want</h2>
        <div class="grid" data-side="want"></div>
    </div>
</div>

<div class="values">
    <div class="value-block">
        <h3>YOUR OFFER</h3>
        <div class="value-number" id="offer-value">0</div>
        <div class="demand">Demand: 0/10</div>
    </div>
    <div class="vs">VS</div>
    <div class="value-block">
        <h3>YOU WANT</h3>
        <div class="value-number" id="want-value">0</div>
        <div class="demand">Demand: 0/10</div>
    </div>
</div>

<div class="modal" id="modal">
    <div class="modal-content">
        <h3>Available Items</h3>
        <input type="text" id="search" placeholder="Search fruit...">
        <div class="items" id="item-list"></div>
    </div>
</div>

<script>
let currentSide = null;
const slots = { have: [], want: [] };

// Liste de fruits avec raret√©
const fruits = [
    {name:"Gravity", rarity:"mythic"},
    {name:"Mammoth", rarity:"mythic"},
    {name:"T-Rex", rarity:"mythic"},
    {name:"Dough", rarity:"mythic"},
    {name:"Shadow", rarity:"mythic"},
    {name:"Venom", rarity:"mythic"},
    {name:"Gas", rarity:"mythic"},
    {name:"Spirit", rarity:"mythic"},
    {name:"Dragon", rarity:"mythic"},
    {name:"Leopard", rarity:"mythic"},
    {name:"Kitsune", rarity:"mythic", img:"https://static.wikia.nocookie.net/roblox-blox-piece/images/6/65/Kitsune_Fruit.png/revision/latest/scale-to-width-down/985?cb=20241223162956"},
    {name:"Control", rarity:"mythic"},
    {name:"Yeti", rarity:"mythic"},
    {name:"Tiger", rarity:"mythic"},
    {name:"Quake", rarity:"legendary"},
    {name:"Buddha", rarity:"legendary"},
    {name:"Love", rarity:"legendary"},
    {name:"Creation", rarity:"legendary"},
    {name:"Spider", rarity:"legendary"},
    {name:"Sound", rarity:"legendary"},
    {name:"Phoenix", rarity:"legendary"},
    {name:"Portal", rarity:"legendary"},
    {name:"Lightning", rarity:"legendary"},
    {name:"Pain", rarity:"legendary"},
    {name:"Blizzard", rarity:"legendary"},
    {name:"Rumble", rarity:"legendary"},
    {name:"Light", rarity:"legendary"},
    {name:"Rubber", rarity:"legendary"},
    {name:"Ghost", rarity:"legendary"},
    {name:"Magma", rarity:"legendary"},
    {name:"Blox Fruits", rarity:"legendary"},
    {name:"Flame", rarity:"uncommon"},
    {name:"Ice", rarity:"uncommon"},
    {name:"Sand", rarity:"uncommon"},
    {name:"Dark", rarity:"uncommon"},
    {name:"Eagle", rarity:"uncommon"},
    {name:"Diamond", rarity:"uncommon"}
];

function initGrid(side){
    const grid=document.querySelector(`.grid[data-side="${side}"]`);
    grid.innerHTML="";
    slots[side]=[];
    for(let i=0;i<4;i++){
        const slot=document.createElement("div");
        slot.className="slot";
        slots[side].push(slot);
        grid.appendChild(slot);
    }
    updatePlus(side);
}

function updatePlus(side){
    const empty = slots[side].find(s => s.innerHTML==="");
    if(!empty) return;
    empty.className="slot add-btn";
    empty.innerHTML="+";
    empty.onclick = ()=> openModal(side);
}

function openModal(side){
    currentSide = side;
    document.getElementById("modal").style.display="flex";
    renderItems("");
}

function renderItems(filter){
    const list = document.getElementById("item-list");
    list.innerHTML = "";
    fruits.filter(f => f.name.toLowerCase().includes(filter.toLowerCase()))
          .forEach(f=>{
        const div = document.createElement("div");
        div.className = `item ${f.rarity}`;
        div.textContent = f.name;
        div.onclick = ()=> selectItem(f.name);
        list.appendChild(div);
    });
}

document.getElementById("search").addEventListener("input", e=>{
    renderItems(e.target.value);
});

function selectItem(name){
    const side = currentSide;
    const slot = slots[side].find(s=>s.classList.contains("add-btn"));
    if(!slot) return;
    slot.className="slot item";

    // Images pour les fruits
    const fruit = fruits.find(f=>f.name===name);
    if(fruit && fruit.img){
        slot.style.backgroundImage = `url('${fruit.img}')`;
        slot.style.backgroundSize="70%";
        slot.style.backgroundPosition="center";
    } else {
        slot.style.backgroundImage="";
    }

    slot.innerHTML += `<div class="value-box">
        <div class="value-text">Value: ???</div>
        <div class="demand-text">Demand: ?/?</div>
    </div>`;

    const index = slots[side].indexOf(slot);
    slot.onclick = ()=> removeItem(side,index);
    document.getElementById("modal").style.display="none";
    updatePlus(side);
}

function removeItem(side,index){
    const items = slots[side].filter((s,i)=>s.classList.contains("item") && i!==index).map(s=>({html:s.innerHTML,bg:s.style.backgroundImage}));
    slots[side].forEach(s=>{ s.className="slot"; s.innerHTML=""; s.style.backgroundImage=""; s.onclick=null; });
    items.forEach((item,i)=>{
        slots[side][i].className="slot item";
        slots[side][i].innerHTML=item.html;
        slots[side][i].style.backgroundImage=item.bg;
        slots[side][i].onclick=()=>removeItem(side,i);
    });
    updatePlus(side);
}

initGrid("have");
initGrid("want");
</script>
</body>
</html>
